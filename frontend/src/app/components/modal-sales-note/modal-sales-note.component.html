<div
  class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center"
  style="background-color: rgba(0, 0, 0, 0.8)"
>
  <div
    id="invoiceContent"
    class="bg-white p-6 rounded-lg shadow-lg w-full max-w-lg"
  >
    <h2 class="text-2xl font-bold mb-4">
      Resumo da Venda - Não tem Valor Fiscal
    </h2>

    <p><strong>Cliente:</strong> {{ saleData.clientName }}</p>
    <p><strong>Data:</strong> {{ date }}</p>
    <p><strong>Vendedor:</strong> {{ saleData.userOperator }}</p>

    <table class="table-auto w-full mt-4">
      <thead>
        <tr>
          <th class="px-4 py-2 border-b">Produto</th>
          <th class="px-4 py-2 border-b">Quantidade</th>
          <th class="px-4 py-2 border-b">Preço</th>
          <th class="px-4 py-2 border-b">Total</th>
        </tr>
      </thead>
      <tbody>
        @for (item of saleData.products; track item.id) {
        <tr>
          <td class="px-4 py-2 border-b">{{ item.name }}</td>
          <td class="px-4 py-2 border-b">{{ item.quantity }}</td>
          <td class="px-4 py-2 border-b">{{ item.price }}</td>
          <td class="px-4 py-2 border-b">
            {{ item.price * (item.quantity ?? 0) }}
          </td>
        </tr>
        }
      </tbody>
    </table>

    <p class="mt-4">
      <strong>Subtotal: R$</strong> {{ formatNumber(saleData.totalProducts) }}
    </p>
    <p>
      @if (calculateDiscount() > 0) {
        <strong>Desconto: R$</strong> {{ calculateDiscount() }}
      }
    </p>
    <p><strong>Total: R$</strong> {{ formatNumber(saleData.total) }}</p>
    <p><strong>Forma de Pagamento:</strong> {{ saleData.paymentMethod }}</p>

    <div class="mt-6 text-center text-sm text-gray-600 border-t pt-4">
      <p>© 2025 Ponto Eli PDV. Todos os direitos reservados.</p>
      <p>Desenvolvido por Elielton Ramos</p>
      <p>
        Email:
        <a href="mailto:elieltonramos14@gmail.com" class="text-blue-600"
          >elieltonramos14&#64;gmail.com</a
        >
      </p>
      <p>
        Telefone:
        <span class="text-blue-600">(38) 98866-3580</span>
      </p>
    </div>

    <div class="mt-6 flex justify-end">
      <button
        (click)="close()"
        class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600"
      >
        Fechar
      </button>
      <button
        (click)="print()"
        class="bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 ml-2"
      >
        Imprimir
      </button>
    </div>
  </div>
</div>
